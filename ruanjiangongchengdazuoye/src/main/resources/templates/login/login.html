<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>登录页</title>
	<link rel="stylesheet" type="text/css" th:href="@{/bootstrap/css/bootstrap.css}">
	<link type="text/css" th:href="@{/bootstrap/css/bootstrap-responsive.css}" rel="stylesheet">
	<link rel="stylesheet" type="text/css" th:href="@{/css/login.css}">	
	<script type="text/javascript" th:src="@{/jquery/jquery-1.5.1.js}"></script>
	<script type="text/javascript" th:src="@{/js/login.js}"></script>
	<script th:inline="javascript">
		function loadImage(){
			var str=[[@{/captcha}]]
		     document.getElementById("randImage").src =str+'?'+Math.random(); //Math.random()方法非常重要，它使每次的请求都不同以便重新发送。如果每次的请求都一样，那么不会重新生成页面
		}
	</script>
</head>
<body>
	<div>
	<form class="form-signin" action="#" th:object="${loginForm}" th:action="@{/login}" method="post"  onSubmit="return check()">
		<h2 class="form-signin-heading">管理员登录</h2>
		<hr>
		<table>
		    <tr>
                 <td ></td>	            
                 <td><font color="red" th:text="*{error}"></font></td>
                 <td></td>	  	  
            </tr>
			<tr>
		        <td align="right">用户名：</td>
		        <td><input class="input" type="text" id="username"  th:field="*{username}"/></td>
		        <td><label class="labelError" id="usernameError"></label></td>	  	
	        </tr>
	        <tr>
		        <td align="right">密码：</td>
		        <td><input class="input" type="password"  id="password"  th:field="*{password}"/></td>
		        <td><label class="labelError" id="passwordError"></label></td> 
	        </tr>
	        <tr>
			     <td align="right">验证码：</td>	            
			     <td><input type="text" size="50px" id="imageValue" class="input" th:field="*{verifyCode}"></td>
			     <td><label class="labelError" id="imageValueError"></label></td>	  	  
			</tr>
			<tr>
				<td ></td>	            
				<td><img onClick="loadImage()"  title="换一张试试" id="randImage" 
				th:src="@{/captcha}" 
				width="100" height="2" border="1" align="absmiddle"></td>
				<td> </td>	  	  
			</tr>
	    	 <tr>
				<td ></td>	            
				<td colspan="2"><label class="checkbox"><input type="checkbox" id="remember" th:field="*{rememberme}" >记住我一周 &nbsp;&nbsp;&nbsp;&nbsp;  </label></td>
				<td></td>	  	  
			</tr>
			
			<tr>
			     <td ></td>	            
			     <td><button type="submit"  class="btn btn-primary">登陆</button> <input type="reset" class="btn btn-primary" value="重写"/></td>
			     <td></td>	  	  
			</tr>
    	</table>
    </form>
	</div>
</body>
</html>